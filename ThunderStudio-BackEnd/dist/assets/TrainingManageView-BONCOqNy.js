/* empty css             *//* empty css                  *//* empty css                        *//* empty css                  *//* empty css                  */import{d as G,t as O,u as j,k as n,l as k,x as q,y as A,c as z,a as p,g as t,h as i,w as W,m as V,q as $,z as J,A as K,B as Q,o as v,f as S,a5 as P,F as X,a9 as Y,aP as Z,D as ee,aO as ae,aH as te,aG as ne}from"./index-x-5zwZLn.js";import{b as le}from"./personInCharge-B2et5bYU.js";const oe={class:"training-manage-header flex h-12 items-center justify-between border-b-2 border-solid border-inherit"},ie={class:"training-manage-content rounded-3xl px-1.5 pt-3"},se={ref:"tablePaginationRef",class:"training-manage-pagination h-14 p-3"},he=G({__name:"TrainingManageView",setup(re){const{windowWidth:c,windowHeight:E}=O(j()),m=n(),y=n(),h=k({uid:void 0,personnelState:void 0}),B=k([{value:0,label:"退出"},{value:1,label:"在训"},{value:2,label:"毕业"}]),_=n(!1),b=n(0),f=n(!1),C=n(0),s=n(1),l=n(c.value<=768?10:15),w=n(c.value<=768?5:9),x=n(c.value<=768?"prev, pager, next":"total, sizes, prev, pager, next");q(()=>{b.value=m.value.clientHeight-118,g(s.value,l.value)}),A([c,E],()=>{b.value=m.value.clientHeight-118,c.value<=768?(l.value=10,w.value=5,x.value="prev, pager, next"):(l.value=15,w.value=9,x.value="total, sizes, prev, pager, next")});const D=()=>{_.value=!0,setTimeout(()=>{_.value=!1},1e3),g(s.value,l.value)},g=(o,a)=>{f.value=!0,le(o,a).then(r=>{console.debug("个人负责人员数据",r),f.value=!1,y.value=r.tableData,C.value=r.total,l.value=r.pageSize})},H=(o,a)=>{h.uid=o,h.personnelState=a,Z(h).then(()=>{g(s.value,l.value)})},R=o=>{g(s.value,o)},U=o=>{g(o,l.value)};return(o,a)=>{const r=$,u=ee,T=ae,L=ne,M=te,N=J,F=K,I=Q;return v(),z("div",{ref_key:"trainingManageViewContainerRef",ref:m,class:"training-manage-container h-full min-h-52 rounded-xl bg-base-100"},[p("div",oe,[a[3]||(a[3]=p("p",{class:"ml-3 text-lg font-semibold"},"训员管理",-1)),t(r,{loading:_.value,class:"mr-3",type:"primary",onClick:D},{default:i(()=>a[2]||(a[2]=[S("刷新 ")])),_:1},8,["loading"])]),p("div",ie,[W((v(),V(N,{id:"table",data:y.value,"default-sort":{prop:"submitTime",order:"descending"},height:b.value,class:"rounded-lg","highlight-current-row":"",stripe:""},{default:i(()=>[t(u,{align:"center",label:"学号","min-width":"90px",prop:"uid"}),t(u,{align:"center",label:"班级","min-width":"95px",prop:"studentClass"}),t(u,{align:"center",label:"姓名","min-width":"70px",prop:"name"}),t(u,{align:"center",label:"周报状态","min-width":"80px"},{default:i(e=>[t(T,{type:e.row.weeklyState===0?"danger":"success"},{default:i(()=>[S(P(e.row.clockInState===0?"未提交":"已提交"),1)]),_:2},1032,["type"])]),_:1}),t(u,{align:"center",label:"打卡状态","min-width":"80px"},{default:i(e=>[t(T,{type:e.row.clockInState===0?"danger":"success"},{default:i(()=>[S(P(e.row.clockInState===0?"未打卡":"已打卡"),1)]),_:2},1032,["type"])]),_:1}),t(u,{align:"center",label:"在训状态",width:"100px"},{default:i(e=>[t(M,{modelValue:e.row.state,"onUpdate:modelValue":d=>e.row.state=d,placeholder:"Select",onChange:d=>H(e.row.uid,e.row.state)},{default:i(()=>[(v(!0),z(X,null,Y(B,d=>(v(),V(L,{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data","height"])),[[I,f.value]])]),p("div",se,[t(F,{"current-page":s.value,"onUpdate:currentPage":a[0]||(a[0]=e=>s.value=e),"page-size":l.value,"onUpdate:pageSize":a[1]||(a[1]=e=>l.value=e),layout:x.value,"page-sizes":[5,10,15,20],"pager-count":w.value,total:C.value,onSizeChange:R,onCurrentChange:U},null,8,["current-page","page-size","layout","pager-count","total"])],512)],512)}}});export{he as default};
